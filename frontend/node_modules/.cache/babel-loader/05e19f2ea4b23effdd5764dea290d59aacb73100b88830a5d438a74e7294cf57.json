{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true\n});\nfunction useQuestionGetter() {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [questionData, setQuestionData] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [correctAnswer, setCorrectAnswer] = useState(null);\n  const getQuestion = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/get-question');\n      setQuestionData(response.data);\n      setLoading(false);\n      setMessage(\"\");\n      setSelectedAnswer(null);\n      setCorrectAnswer(null);\n    } catch (error) {\n      console.error(\"Error fetching question:\", error);\n      setLoading(false);\n      setMessage(\"Failed to fetch question. Please try again.\");\n    }\n  }, []);\n  useEffect(() => {\n    getQuestion();\n  }, [getQuestion]);\n  const selectAnswer = answer => {\n    setSelectedAnswer(answer);\n  };\n  const submitAnswer = async () => {\n    if (!selectedAnswer) {\n      setMessage(\"Please select an answer before submitting.\");\n      return;\n    }\n    try {\n      const response = await api.post('/submit-answer', {\n        answer: selectedAnswer\n      });\n      setCorrectAnswer(response.data.correctAnswer);\n      setMessage(response.data.message || \"Answer submitted successfully.\");\n    } catch (error) {\n      console.error(\"Error submitting answer:\", error);\n      setMessage(\"Failed to submit answer. Please try again.\");\n    }\n  };\n  return {\n    loading,\n    questionData,\n    message,\n    selectedAnswer,\n    correctAnswer,\n    getQuestion,\n    selectAnswer,\n    submitAnswer\n  };\n}\n_s(useQuestionGetter, \"hNBiTVucOQeHftRyJLlTlr14sdI=\");\nexport default useQuestionGetter;","map":{"version":3,"names":["useState","useEffect","useCallback","axios","api","create","baseURL","process","env","REACT_APP_API_URL","withCredentials","useQuestionGetter","_s","loading","setLoading","questionData","setQuestionData","message","setMessage","selectedAnswer","setSelectedAnswer","correctAnswer","setCorrectAnswer","getQuestion","response","get","data","error","console","selectAnswer","answer","submitAnswer","post"],"sources":["C:/Users/jayb/Desktop/blogg/react/frontend/src/components/QuestionGetter.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n  withCredentials: true,\r\n});\r\n\r\nfunction useQuestionGetter() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [questionData, setQuestionData] = useState(null);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\r\n  const [correctAnswer, setCorrectAnswer] = useState(null);\r\n\r\n  const getQuestion = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/get-question');\r\n      setQuestionData(response.data);\r\n      setLoading(false);\r\n      setMessage(\"\");\r\n      setSelectedAnswer(null);\r\n      setCorrectAnswer(null);\r\n    } catch (error) {\r\n      console.error(\"Error fetching question:\", error);\r\n      setLoading(false);\r\n      setMessage(\"Failed to fetch question. Please try again.\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getQuestion();\r\n  }, [getQuestion]);\r\n\r\n  const selectAnswer = (answer) => {\r\n    setSelectedAnswer(answer);\r\n  };\r\n\r\n  const submitAnswer = async () => {\r\n    if (!selectedAnswer) {\r\n      setMessage(\"Please select an answer before submitting.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.post('/submit-answer', { answer: selectedAnswer });\r\n      setCorrectAnswer(response.data.correctAnswer);\r\n      setMessage(response.data.message || \"Answer submitted successfully.\");\r\n    } catch (error) {\r\n      console.error(\"Error submitting answer:\", error);\r\n      setMessage(\"Failed to submit answer. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return { \r\n    loading, \r\n    questionData, \r\n    message, \r\n    selectedAnswer, \r\n    correctAnswer, \r\n    getQuestion, \r\n    selectAnswer, \r\n    submitAnswer \r\n  };\r\n}\r\n\r\nexport default useQuestionGetter;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB;EACtCC,eAAe,EAAE;AACnB,CAAC,CAAC;AAEF,SAASC,iBAAiBA,CAAA,EAAG;EAAAC,EAAA;EAC3B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACmB,cAAc,EAAEC,iBAAiB,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACqB,aAAa,EAAEC,gBAAgB,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAExD,MAAMuB,WAAW,GAAGrB,WAAW,CAAC,YAAY;IAC1C,IAAI;MACFY,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMU,QAAQ,GAAG,MAAMpB,GAAG,CAACqB,GAAG,CAAC,eAAe,CAAC;MAC/CT,eAAe,CAACQ,QAAQ,CAACE,IAAI,CAAC;MAC9BZ,UAAU,CAAC,KAAK,CAAC;MACjBI,UAAU,CAAC,EAAE,CAAC;MACdE,iBAAiB,CAAC,IAAI,CAAC;MACvBE,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDb,UAAU,CAAC,KAAK,CAAC;MACjBI,UAAU,CAAC,6CAA6C,CAAC;IAC3D;EACF,CAAC,EAAE,EAAE,CAAC;EAENjB,SAAS,CAAC,MAAM;IACdsB,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAMM,YAAY,GAAIC,MAAM,IAAK;IAC/BV,iBAAiB,CAACU,MAAM,CAAC;EAC3B,CAAC;EAED,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACZ,cAAc,EAAE;MACnBD,UAAU,CAAC,4CAA4C,CAAC;MACxD;IACF;IAEA,IAAI;MACF,MAAMM,QAAQ,GAAG,MAAMpB,GAAG,CAAC4B,IAAI,CAAC,gBAAgB,EAAE;QAAEF,MAAM,EAAEX;MAAe,CAAC,CAAC;MAC7EG,gBAAgB,CAACE,QAAQ,CAACE,IAAI,CAACL,aAAa,CAAC;MAC7CH,UAAU,CAACM,QAAQ,CAACE,IAAI,CAACT,OAAO,IAAI,gCAAgC,CAAC;IACvE,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDT,UAAU,CAAC,4CAA4C,CAAC;IAC1D;EACF,CAAC;EAED,OAAO;IACLL,OAAO;IACPE,YAAY;IACZE,OAAO;IACPE,cAAc;IACdE,aAAa;IACbE,WAAW;IACXM,YAAY;IACZE;EACF,CAAC;AACH;AAACnB,EAAA,CAzDQD,iBAAiB;AA2D1B,eAAeA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}